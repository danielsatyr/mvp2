"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/profile";
exports.ids = ["pages/api/profile"];
exports.modules = {

/***/ "(api-node)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fprofile&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cprofile.ts&middlewareConfigBase64=e30%3D!":
/*!********************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fprofile&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cprofile.ts&middlewareConfigBase64=e30%3D! ***!
  \********************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   handler: () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_api_utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/api-utils */ \"(api-node)/./node_modules/next/dist/server/api-utils/index.js\");\n/* harmony import */ var next_dist_server_api_utils__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_api_utils__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(api-node)/./node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/route-modules/pages-api/module.compiled */ \"(api-node)/./node_modules/next/dist/server/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api-node)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_profile_ts__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./pages\\api\\profile.ts */ \"(api-node)/./pages/api/profile.ts\");\n/* harmony import */ var next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! next/dist/server/lib/trace/tracer */ \"(api-node)/./node_modules/next/dist/server/lib/trace/tracer.js\");\n/* harmony import */ var next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! next/dist/server/lib/trace/constants */ \"(api-node)/./node_modules/next/dist/server/lib/trace/constants.js\");\n/* harmony import */ var next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_6__);\n\n\n\n\n// Import the userland code.\n\n\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_3__.hoist)(_pages_api_profile_ts__WEBPACK_IMPORTED_MODULE_4__, 'default'));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_3__.hoist)(_pages_api_profile_ts__WEBPACK_IMPORTED_MODULE_4__, 'config');\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_2__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/profile\",\n        pathname: \"/api/profile\",\n        // The following aren't used in production.\n        bundlePath: '',\n        filename: ''\n    },\n    userland: _pages_api_profile_ts__WEBPACK_IMPORTED_MODULE_4__,\n    distDir: \".next\" || 0,\n    projectDir:  false || ''\n});\nasync function handler(req, res, ctx) {\n    let srcPage = \"/api/profile\";\n    // turbopack doesn't normalize `/index` in the page name\n    // so we need to to process dynamic routes properly\n    // TODO: fix turbopack providing differing value from webpack\n    if (false) {}\n    const prepareResult = await routeModule.prepare(req, res, {\n        srcPage\n    });\n    if (!prepareResult) {\n        res.statusCode = 400;\n        res.end('Bad Request');\n        ctx.waitUntil == null ? void 0 : ctx.waitUntil.call(ctx, Promise.resolve());\n        return;\n    }\n    const { query, params, prerenderManifest } = prepareResult;\n    try {\n        const method = req.method || 'GET';\n        const tracer = (0,next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_5__.getTracer)();\n        const activeSpan = tracer.getActiveScopeSpan();\n        const onRequestError = routeModule.instrumentationOnRequestError.bind(routeModule);\n        const invokeRouteModule = async (span)=>routeModule.render(req, res, {\n                query: {\n                    ...query,\n                    ...params\n                },\n                params,\n                allowedRevalidateHeaderKeys: undefined,\n                multiZoneDraftMode: Boolean(\"false\"),\n                trustHostHeader: undefined,\n                // TODO: get this from from runtime env so manifest\n                // doesn't need to load\n                previewProps: prerenderManifest.preview,\n                propagateError: false,\n                dev: routeModule.isDev,\n                page: \"/api/profile\",\n                projectDir:  false || '',\n                onError: (...args)=>onRequestError(req, ...args)\n            }).finally(()=>{\n                if (!span) return;\n                span.setAttributes({\n                    'http.status_code': res.statusCode,\n                    'next.rsc': false\n                });\n                const rootSpanAttributes = tracer.getRootSpanAttributes();\n                // We were unable to get attributes, probably OTEL is not enabled\n                if (!rootSpanAttributes) {\n                    return;\n                }\n                if (rootSpanAttributes.get('next.span_type') !== next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_6__.BaseServerSpan.handleRequest) {\n                    console.warn(`Unexpected root span type '${rootSpanAttributes.get('next.span_type')}'. Please report this Next.js issue https://github.com/vercel/next.js`);\n                    return;\n                }\n                const route = rootSpanAttributes.get('next.route');\n                if (route) {\n                    const name = `${method} ${route}`;\n                    span.setAttributes({\n                        'next.route': route,\n                        'http.route': route,\n                        'next.span_name': name\n                    });\n                    span.updateName(name);\n                } else {\n                    span.updateName(`${method} ${req.url}`);\n                }\n            });\n        // TODO: activeSpan code path is for when wrapped by\n        // next-server can be removed when this is no longer used\n        if (activeSpan) {\n            await invokeRouteModule(activeSpan);\n        } else {\n            await tracer.withPropagatedContext(req.headers, ()=>tracer.trace(next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_6__.BaseServerSpan.handleRequest, {\n                    spanName: `${method} ${req.url}`,\n                    kind: next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_5__.SpanKind.SERVER,\n                    attributes: {\n                        'http.method': method,\n                        'http.target': req.url\n                    }\n                }, invokeRouteModule));\n        }\n    } catch (err) {\n        // we re-throw in dev to show the error overlay\n        if (routeModule.isDev) {\n            throw err;\n        }\n        // this is technically an invariant as error handling\n        // should be done inside of api-resolver onError\n        (0,next_dist_server_api_utils__WEBPACK_IMPORTED_MODULE_0__.sendError)(res, 500, 'Internal Server Error');\n    } finally{\n        // We don't allow any waitUntil work in pages API routes currently\n        // so if callback is present return with resolved promise since no\n        // pending work\n        ctx.waitUntil == null ? void 0 : ctx.waitUntil.call(ctx, Promise.resolve());\n    }\n}\n\n//# sourceMappingURL=pages-api.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaS1ub2RlKS8uL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvYnVpbGQvd2VicGFjay9sb2FkZXJzL25leHQtcm91dGUtbG9hZGVyL2luZGV4LmpzP2tpbmQ9UEFHRVNfQVBJJnBhZ2U9JTJGYXBpJTJGcHJvZmlsZSZwcmVmZXJyZWRSZWdpb249JmFic29sdXRlUGFnZVBhdGg9LiUyRnBhZ2VzJTVDYXBpJTVDcHJvZmlsZS50cyZtaWRkbGV3YXJlQ29uZmlnQmFzZTY0PWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBdUQ7QUFDQztBQUN1QztBQUNyQztBQUMxRDtBQUNxRDtBQUNtQjtBQUNGO0FBQ3RFO0FBQ0EsaUVBQWUsd0VBQUssQ0FBQyxrREFBUSxZQUFZLEVBQUM7QUFDMUM7QUFDTyxlQUFlLHdFQUFLLENBQUMsa0RBQVE7QUFDcEM7QUFDQSx3QkFBd0IseUdBQW1CO0FBQzNDO0FBQ0EsY0FBYyxrRUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLFlBQVk7QUFDWixhQUFhLE9BQW9DLElBQUksQ0FBRTtBQUN2RCxnQkFBZ0IsTUFBdUM7QUFDdkQsQ0FBQztBQUNNO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLEtBQXFCLEVBQUUsRUFFMUI7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksbUNBQW1DO0FBQy9DO0FBQ0E7QUFDQSx1QkFBdUIsNEVBQVM7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0EsNkNBQTZDLFNBQTZDO0FBQzFGLDRDQUE0QyxPQUF3QztBQUNwRixpQ0FBaUMsU0FBb0M7QUFDckU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLE1BQXVDO0FBQ25FO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpRUFBaUUsZ0ZBQWM7QUFDL0UsK0RBQStELHlDQUF5QztBQUN4RztBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQyxRQUFRLEVBQUUsTUFBTTtBQUNwRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBLGtCQUFrQjtBQUNsQix1Q0FBdUMsUUFBUSxFQUFFLFFBQVE7QUFDekQ7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1YsNkVBQTZFLGdGQUFjO0FBQzNGLGlDQUFpQyxRQUFRLEVBQUUsUUFBUTtBQUNuRCwwQkFBMEIsdUVBQVE7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSxxRUFBUztBQUNqQixNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBIiwic291cmNlcyI6WyIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgc2VuZEVycm9yIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvYXBpLXV0aWxzXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBQYWdlc0FQSVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvcm91dGUtbW9kdWxlcy9wYWdlcy1hcGkvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBob2lzdCB9IGZyb20gXCJuZXh0L2Rpc3QvYnVpbGQvdGVtcGxhdGVzL2hlbHBlcnNcIjtcbi8vIEltcG9ydCB0aGUgdXNlcmxhbmQgY29kZS5cbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCIuL3BhZ2VzXFxcXGFwaVxcXFxwcm9maWxlLnRzXCI7XG5pbXBvcnQgeyBnZXRUcmFjZXIsIFNwYW5LaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3RyYWNlL3RyYWNlclwiO1xuaW1wb3J0IHsgQmFzZVNlcnZlclNwYW4gfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvdHJhY2UvY29uc3RhbnRzXCI7XG4vLyBSZS1leHBvcnQgdGhlIGhhbmRsZXIgKHNob3VsZCBiZSB0aGUgZGVmYXVsdCBleHBvcnQpLlxuZXhwb3J0IGRlZmF1bHQgaG9pc3QodXNlcmxhbmQsICdkZWZhdWx0Jyk7XG4vLyBSZS1leHBvcnQgY29uZmlnLlxuZXhwb3J0IGNvbnN0IGNvbmZpZyA9IGhvaXN0KHVzZXJsYW5kLCAnY29uZmlnJyk7XG4vLyBDcmVhdGUgYW5kIGV4cG9ydCB0aGUgcm91dGUgbW9kdWxlIHRoYXQgd2lsbCBiZSBjb25zdW1lZC5cbmNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IFBhZ2VzQVBJUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLlBBR0VTX0FQSSxcbiAgICAgICAgcGFnZTogXCIvYXBpL3Byb2ZpbGVcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9wcm9maWxlXCIsXG4gICAgICAgIC8vIFRoZSBmb2xsb3dpbmcgYXJlbid0IHVzZWQgaW4gcHJvZHVjdGlvbi5cbiAgICAgICAgYnVuZGxlUGF0aDogJycsXG4gICAgICAgIGZpbGVuYW1lOiAnJ1xuICAgIH0sXG4gICAgdXNlcmxhbmQsXG4gICAgZGlzdERpcjogcHJvY2Vzcy5lbnYuX19ORVhUX1JFTEFUSVZFX0RJU1RfRElSIHx8ICcnLFxuICAgIHByb2plY3REaXI6IHByb2Nlc3MuZW52Ll9fTkVYVF9SRUxBVElWRV9QUk9KRUNUX0RJUiB8fCAnJ1xufSk7XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gaGFuZGxlcihyZXEsIHJlcywgY3R4KSB7XG4gICAgbGV0IHNyY1BhZ2UgPSBcIi9hcGkvcHJvZmlsZVwiO1xuICAgIC8vIHR1cmJvcGFjayBkb2Vzbid0IG5vcm1hbGl6ZSBgL2luZGV4YCBpbiB0aGUgcGFnZSBuYW1lXG4gICAgLy8gc28gd2UgbmVlZCB0byB0byBwcm9jZXNzIGR5bmFtaWMgcm91dGVzIHByb3Blcmx5XG4gICAgLy8gVE9ETzogZml4IHR1cmJvcGFjayBwcm92aWRpbmcgZGlmZmVyaW5nIHZhbHVlIGZyb20gd2VicGFja1xuICAgIGlmIChwcm9jZXNzLmVudi5UVVJCT1BBQ0spIHtcbiAgICAgICAgc3JjUGFnZSA9IHNyY1BhZ2UucmVwbGFjZSgvXFwvaW5kZXgkLywgJycpIHx8ICcvJztcbiAgICB9XG4gICAgY29uc3QgcHJlcGFyZVJlc3VsdCA9IGF3YWl0IHJvdXRlTW9kdWxlLnByZXBhcmUocmVxLCByZXMsIHtcbiAgICAgICAgc3JjUGFnZVxuICAgIH0pO1xuICAgIGlmICghcHJlcGFyZVJlc3VsdCkge1xuICAgICAgICByZXMuc3RhdHVzQ29kZSA9IDQwMDtcbiAgICAgICAgcmVzLmVuZCgnQmFkIFJlcXVlc3QnKTtcbiAgICAgICAgY3R4LndhaXRVbnRpbCA9PSBudWxsID8gdm9pZCAwIDogY3R4LndhaXRVbnRpbC5jYWxsKGN0eCwgUHJvbWlzZS5yZXNvbHZlKCkpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHsgcXVlcnksIHBhcmFtcywgcHJlcmVuZGVyTWFuaWZlc3QgfSA9IHByZXBhcmVSZXN1bHQ7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgbWV0aG9kID0gcmVxLm1ldGhvZCB8fCAnR0VUJztcbiAgICAgICAgY29uc3QgdHJhY2VyID0gZ2V0VHJhY2VyKCk7XG4gICAgICAgIGNvbnN0IGFjdGl2ZVNwYW4gPSB0cmFjZXIuZ2V0QWN0aXZlU2NvcGVTcGFuKCk7XG4gICAgICAgIGNvbnN0IG9uUmVxdWVzdEVycm9yID0gcm91dGVNb2R1bGUuaW5zdHJ1bWVudGF0aW9uT25SZXF1ZXN0RXJyb3IuYmluZChyb3V0ZU1vZHVsZSk7XG4gICAgICAgIGNvbnN0IGludm9rZVJvdXRlTW9kdWxlID0gYXN5bmMgKHNwYW4pPT5yb3V0ZU1vZHVsZS5yZW5kZXIocmVxLCByZXMsIHtcbiAgICAgICAgICAgICAgICBxdWVyeToge1xuICAgICAgICAgICAgICAgICAgICAuLi5xdWVyeSxcbiAgICAgICAgICAgICAgICAgICAgLi4ucGFyYW1zXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBwYXJhbXMsXG4gICAgICAgICAgICAgICAgYWxsb3dlZFJldmFsaWRhdGVIZWFkZXJLZXlzOiBwcm9jZXNzLmVudi5fX05FWFRfQUxMT1dFRF9SRVZBTElEQVRFX0hFQURFUlMsXG4gICAgICAgICAgICAgICAgbXVsdGlab25lRHJhZnRNb2RlOiBCb29sZWFuKHByb2Nlc3MuZW52Ll9fTkVYVF9NVUxUSV9aT05FX0RSQUZUX01PREUpLFxuICAgICAgICAgICAgICAgIHRydXN0SG9zdEhlYWRlcjogcHJvY2Vzcy5lbnYuX19ORVhUX1RSVVNUX0hPU1RfSEVBREVSLFxuICAgICAgICAgICAgICAgIC8vIFRPRE86IGdldCB0aGlzIGZyb20gZnJvbSBydW50aW1lIGVudiBzbyBtYW5pZmVzdFxuICAgICAgICAgICAgICAgIC8vIGRvZXNuJ3QgbmVlZCB0byBsb2FkXG4gICAgICAgICAgICAgICAgcHJldmlld1Byb3BzOiBwcmVyZW5kZXJNYW5pZmVzdC5wcmV2aWV3LFxuICAgICAgICAgICAgICAgIHByb3BhZ2F0ZUVycm9yOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBkZXY6IHJvdXRlTW9kdWxlLmlzRGV2LFxuICAgICAgICAgICAgICAgIHBhZ2U6IFwiL2FwaS9wcm9maWxlXCIsXG4gICAgICAgICAgICAgICAgcHJvamVjdERpcjogcHJvY2Vzcy5lbnYuX19ORVhUX1JFTEFUSVZFX1BST0pFQ1RfRElSIHx8ICcnLFxuICAgICAgICAgICAgICAgIG9uRXJyb3I6ICguLi5hcmdzKT0+b25SZXF1ZXN0RXJyb3IocmVxLCAuLi5hcmdzKVxuICAgICAgICAgICAgfSkuZmluYWxseSgoKT0+e1xuICAgICAgICAgICAgICAgIGlmICghc3BhbikgcmV0dXJuO1xuICAgICAgICAgICAgICAgIHNwYW4uc2V0QXR0cmlidXRlcyh7XG4gICAgICAgICAgICAgICAgICAgICdodHRwLnN0YXR1c19jb2RlJzogcmVzLnN0YXR1c0NvZGUsXG4gICAgICAgICAgICAgICAgICAgICduZXh0LnJzYyc6IGZhbHNlXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgY29uc3Qgcm9vdFNwYW5BdHRyaWJ1dGVzID0gdHJhY2VyLmdldFJvb3RTcGFuQXR0cmlidXRlcygpO1xuICAgICAgICAgICAgICAgIC8vIFdlIHdlcmUgdW5hYmxlIHRvIGdldCBhdHRyaWJ1dGVzLCBwcm9iYWJseSBPVEVMIGlzIG5vdCBlbmFibGVkXG4gICAgICAgICAgICAgICAgaWYgKCFyb290U3BhbkF0dHJpYnV0ZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAocm9vdFNwYW5BdHRyaWJ1dGVzLmdldCgnbmV4dC5zcGFuX3R5cGUnKSAhPT0gQmFzZVNlcnZlclNwYW4uaGFuZGxlUmVxdWVzdCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oYFVuZXhwZWN0ZWQgcm9vdCBzcGFuIHR5cGUgJyR7cm9vdFNwYW5BdHRyaWJ1dGVzLmdldCgnbmV4dC5zcGFuX3R5cGUnKX0nLiBQbGVhc2UgcmVwb3J0IHRoaXMgTmV4dC5qcyBpc3N1ZSBodHRwczovL2dpdGh1Yi5jb20vdmVyY2VsL25leHQuanNgKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCByb3V0ZSA9IHJvb3RTcGFuQXR0cmlidXRlcy5nZXQoJ25leHQucm91dGUnKTtcbiAgICAgICAgICAgICAgICBpZiAocm91dGUpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmFtZSA9IGAke21ldGhvZH0gJHtyb3V0ZX1gO1xuICAgICAgICAgICAgICAgICAgICBzcGFuLnNldEF0dHJpYnV0ZXMoe1xuICAgICAgICAgICAgICAgICAgICAgICAgJ25leHQucm91dGUnOiByb3V0ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICdodHRwLnJvdXRlJzogcm91dGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAnbmV4dC5zcGFuX25hbWUnOiBuYW1lXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzcGFuLnVwZGF0ZU5hbWUobmFtZSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgc3Bhbi51cGRhdGVOYW1lKGAke21ldGhvZH0gJHtyZXEudXJsfWApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAvLyBUT0RPOiBhY3RpdmVTcGFuIGNvZGUgcGF0aCBpcyBmb3Igd2hlbiB3cmFwcGVkIGJ5XG4gICAgICAgIC8vIG5leHQtc2VydmVyIGNhbiBiZSByZW1vdmVkIHdoZW4gdGhpcyBpcyBubyBsb25nZXIgdXNlZFxuICAgICAgICBpZiAoYWN0aXZlU3Bhbikge1xuICAgICAgICAgICAgYXdhaXQgaW52b2tlUm91dGVNb2R1bGUoYWN0aXZlU3Bhbik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBhd2FpdCB0cmFjZXIud2l0aFByb3BhZ2F0ZWRDb250ZXh0KHJlcS5oZWFkZXJzLCAoKT0+dHJhY2VyLnRyYWNlKEJhc2VTZXJ2ZXJTcGFuLmhhbmRsZVJlcXVlc3QsIHtcbiAgICAgICAgICAgICAgICAgICAgc3Bhbk5hbWU6IGAke21ldGhvZH0gJHtyZXEudXJsfWAsXG4gICAgICAgICAgICAgICAgICAgIGtpbmQ6IFNwYW5LaW5kLlNFUlZFUixcbiAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgJ2h0dHAubWV0aG9kJzogbWV0aG9kLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ2h0dHAudGFyZ2V0JzogcmVxLnVybFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSwgaW52b2tlUm91dGVNb2R1bGUpKTtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAvLyB3ZSByZS10aHJvdyBpbiBkZXYgdG8gc2hvdyB0aGUgZXJyb3Igb3ZlcmxheVxuICAgICAgICBpZiAocm91dGVNb2R1bGUuaXNEZXYpIHtcbiAgICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgfVxuICAgICAgICAvLyB0aGlzIGlzIHRlY2huaWNhbGx5IGFuIGludmFyaWFudCBhcyBlcnJvciBoYW5kbGluZ1xuICAgICAgICAvLyBzaG91bGQgYmUgZG9uZSBpbnNpZGUgb2YgYXBpLXJlc29sdmVyIG9uRXJyb3JcbiAgICAgICAgc2VuZEVycm9yKHJlcywgNTAwLCAnSW50ZXJuYWwgU2VydmVyIEVycm9yJyk7XG4gICAgfSBmaW5hbGx5e1xuICAgICAgICAvLyBXZSBkb24ndCBhbGxvdyBhbnkgd2FpdFVudGlsIHdvcmsgaW4gcGFnZXMgQVBJIHJvdXRlcyBjdXJyZW50bHlcbiAgICAgICAgLy8gc28gaWYgY2FsbGJhY2sgaXMgcHJlc2VudCByZXR1cm4gd2l0aCByZXNvbHZlZCBwcm9taXNlIHNpbmNlIG5vXG4gICAgICAgIC8vIHBlbmRpbmcgd29ya1xuICAgICAgICBjdHgud2FpdFVudGlsID09IG51bGwgPyB2b2lkIDAgOiBjdHgud2FpdFVudGlsLmNhbGwoY3R4LCBQcm9taXNlLnJlc29sdmUoKSk7XG4gICAgfVxufVxuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1wYWdlcy1hcGkuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api-node)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fprofile&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cprofile.ts&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api-node)/./pages/api/profile.ts":
/*!******************************!*\
  !*** ./pages/api/profile.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @prisma/client */ \"@prisma/client\");\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_prisma_client__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var cookie__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! cookie */ \"cookie\");\n/* harmony import */ var cookie__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(cookie__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jsonwebtoken */ \"jsonwebtoken\");\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(jsonwebtoken__WEBPACK_IMPORTED_MODULE_2__);\n// pages/api/profile.ts\n\n\n\nconst prisma = new _prisma_client__WEBPACK_IMPORTED_MODULE_0__.PrismaClient();\nfunction calculateScore(data) {\n    let score = 0;\n    // Visa Subclass\n    switch(data.visaSubclass){\n        case '491':\n            score += 15;\n            break;\n        case '190':\n            score += 5;\n            break;\n        case '189':\n            score += 0;\n            break;\n    }\n    // Edad\n    if (data.age < 25) score += 25;\n    else if (data.age < 33) score += 30;\n    else if (data.age < 40) score += 25;\n    else if (data.age < 45) score += 15;\n    // Inglés\n    if (data.englishLevel === 'Proficient') score += 10;\n    else if (data.englishLevel === 'Superior') score += 20;\n    // Experiencia fuera AU\n    if (data.workExperience_out >= 8) score += 15;\n    else if (data.workExperience_out >= 5) score += 10;\n    else if (data.workExperience_out >= 3) score += 5;\n    // Experiencia en AU\n    if (data.workExperience_in >= 8) score += 20;\n    else if (data.workExperience_in >= 5) score += 15;\n    else if (data.workExperience_in >= 3) score += 10;\n    else if (data.workExperience_in >= 1) score += 5;\n    // Educación\n    switch(data.education_qualification){\n        case 'doctorate':\n            score += 20;\n            break;\n        case 'bachelor':\n            score += 15;\n            break;\n        case 'diploma':\n            score += 10;\n            break;\n        case 'assessed':\n            score += 10;\n            break;\n        default:\n            break;\n    }\n    // Especialista\n    if (data.specialistQualification && data.specialistQualification !== 'none') score += 10;\n    // Australian study requirement\n    if (data.australianStudy === 'yes') score += 5;\n    // Credentialed community language\n    if (data.communityLanguage === 'yes') score += 5;\n    // Study in regional Australia\n    if (data.regionalStudy === 'yes') score += 5;\n    // Professional Year\n    if (data.professionalYear === 'yes') score += 5;\n    // Partner skills\n    if (data.partner === 'meets_all' || data.partner === 'single_or_au_partner') score += 10;\n    else if (data.partner === 'competent_english') score += 5;\n    // Nomination or sponsorship\n    if (data.nominationSponsorship === 'state' || data.nominationSponsorship === 'family') score += 15;\n    return score;\n}\nasync function handler(req, res) {\n    const raw = req.headers.cookie || '';\n    const { token } = cookie__WEBPACK_IMPORTED_MODULE_1__.parse(raw);\n    if (!token) return res.status(401).json({\n        error: 'No autenticado'\n    });\n    let payload;\n    try {\n        payload = jsonwebtoken__WEBPACK_IMPORTED_MODULE_2___default().verify(token, process.env.JWT_SECRET);\n    } catch  {\n        return res.status(401).json({\n            error: 'Token inválido'\n        });\n    }\n    const userId = payload.userId;\n    if (req.method === 'GET') {\n        const profileRaw = await prisma.profile.findUnique({\n            where: {\n                userId\n            }\n        });\n        if (!profileRaw) return res.status(404).json({\n            error: 'Perfil no encontrado'\n        });\n        return res.status(200).json({\n            profile: profileRaw\n        });\n    }\n    if (req.method === 'POST') {\n        const body = req.body;\n        // Datos para calcular\n        const scoreData = {\n            visaSubclass: body.visaSubclass,\n            age: body.age,\n            englishLevel: body.englishLevel,\n            workExperience_out: body.workExperience_out,\n            workExperience_in: body.workExperience_in,\n            education_qualification: body.education_qualification,\n            specialistQualification: body.specialistQualification,\n            australianStudy: body.study_requirement,\n            communityLanguage: body.natti,\n            regionalStudy: body.regional_study,\n            professionalYear: body.professional_year,\n            partner: body.partner,\n            nominationSponsorship: body.nomination_sponsorship\n        };\n        const score = calculateScore(scoreData);\n        // Payload DB (usando claves snake_case)\n        const dbPayload = {\n            age: body.age,\n            occupation: body.occupation,\n            englishLevel: body.englishLevel,\n            workExperience_in: body.workExperience_in,\n            workExperience_out: body.workExperience_out,\n            nationality: body.nationality ?? '',\n            education_qualification: body.education_qualification,\n            study_requirement: body.study_requirement,\n            regional_study: body.regional_study,\n            professional_year: body.professional_year,\n            natti: body.natti,\n            partner: body.partner,\n            nomination_sponsorship: body.nomination_sponsorship\n        };\n        const profile = await prisma.profile.upsert({\n            where: {\n                userId\n            },\n            create: {\n                userId,\n                ...dbPayload,\n                score\n            },\n            update: {\n                ...dbPayload,\n                score\n            }\n        });\n        return res.status(200).json({\n            profile\n        });\n    }\n    res.setHeader('Allow', [\n        'GET',\n        'POST'\n    ]);\n    return res.status(405).end(`Method ${req.method} Not Allowed`);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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S2lDLEtBQUtqQyxHQUFHO1lBQ2J5QyxZQUFZUixLQUFLUSxVQUFVO1lBQzNCeEMsY0FBY2dDLEtBQUtoQyxZQUFZO1lBQy9CRSxtQkFBbUI4QixLQUFLOUIsaUJBQWlCO1lBQ3pDRCxvQkFBb0IrQixLQUFLL0Isa0JBQWtCO1lBQzNDd0MsYUFBYVQsS0FBS1MsV0FBVyxJQUFJO1lBQ2pDdEMseUJBQXlCNkIsS0FBSzdCLHVCQUF1QjtZQUNyRCtCLG1CQUFtQkYsS0FBS0UsaUJBQWlCO1lBQ3pDRSxnQkFBZ0JKLEtBQUtJLGNBQWM7WUFDbkNDLG1CQUFtQkwsS0FBS0ssaUJBQWlCO1lBQ3pDRixPQUFPSCxLQUFLRyxLQUFLO1lBQ2pCMUIsU0FBU3VCLEtBQUt2QixPQUFPO1lBQ3JCNkIsd0JBQXdCTixLQUFLTSxzQkFBc0I7UUFDckQ7UUFFQSxNQUFNVCxVQUFVLE1BQU1uQyxPQUFPbUMsT0FBTyxDQUFDYSxNQUFNLENBQUM7WUFDMUNYLE9BQU87Z0JBQUVMO1lBQU87WUFDaEJpQixRQUFRO2dCQUFFakI7Z0JBQVEsR0FBR2EsU0FBUztnQkFBRTFDO1lBQU07WUFDdEMrQyxRQUFRO2dCQUFFLEdBQUdMLFNBQVM7Z0JBQUUxQztZQUFNO1FBQ2hDO1FBQ0EsT0FBT2dCLElBQUlLLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUM7WUFBRVU7UUFBUTtJQUN4QztJQUVBaEIsSUFBSWdDLFNBQVMsQ0FBQyxTQUFTO1FBQUM7UUFBTTtLQUFPO0lBQ3JDLE9BQU9oQyxJQUFJSyxNQUFNLENBQUMsS0FBSzRCLEdBQUcsQ0FBQyxDQUFDLE9BQU8sRUFBRWxDLElBQUllLE1BQU0sQ0FBQyxZQUFZLENBQUM7QUFDL0QiLCJzb3VyY2VzIjpbIkQ6XFxEZXZlbG9wbWVudFxcbXZwXFxwYWdlc1xcYXBpXFxwcm9maWxlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIHBhZ2VzL2FwaS9wcm9maWxlLnRzXHJcbmltcG9ydCB0eXBlIHsgTmV4dEFwaVJlcXVlc3QsIE5leHRBcGlSZXNwb25zZSB9IGZyb20gJ25leHQnO1xyXG5pbXBvcnQgeyBQcmlzbWFDbGllbnQgfSBmcm9tICdAcHJpc21hL2NsaWVudCc7XHJcbmltcG9ydCAqIGFzIGNvb2tpZSBmcm9tICdjb29raWUnO1xyXG5pbXBvcnQgand0IGZyb20gJ2pzb253ZWJ0b2tlbic7XHJcblxyXG5jb25zdCBwcmlzbWEgPSBuZXcgUHJpc21hQ2xpZW50KCk7XHJcblxyXG4vLyBDbGF2ZXMgZXhhY3RhcyBxdWUgZW52w61hIGVsIGZvcm11bGFyaW9cclxudHlwZSBQcm9maWxlUGF5bG9hZCA9IHtcclxuICB2aXNhU3ViY2xhc3M6ICc0OTEnIHwgJzE5MCcgfCAnMTg5JztcclxuICBhZ2U6IG51bWJlcjtcclxuICBlbmdsaXNoTGV2ZWw6ICdDb21wZXRlbnQnIHwgJ1Byb2ZpY2llbnQnIHwgJ1N1cGVyaW9yJztcclxuICB3b3JrRXhwZXJpZW5jZV9vdXQ6IG51bWJlcjtcclxuICB3b3JrRXhwZXJpZW5jZV9pbjogbnVtYmVyO1xyXG4gIG9jY3VwYXRpb246IHN0cmluZztcclxuICBuYXRpb25hbGl0eT86IHN0cmluZztcclxuICBlZHVjYXRpb25fcXVhbGlmaWNhdGlvbjogJ2RvY3RvcmF0ZScgfCAnYmFjaGVsb3InIHwgJ2RpcGxvbWEnIHwgJ2Fzc2Vzc2VkJyB8ICdub25lJztcclxuICBzcGVjaWFsaXN0UXVhbGlmaWNhdGlvbj86ICdtYXN0ZXJfcmVzZWFyY2gnIHwgJ2RvY3RvcmFsX3Jlc2VhcmNoJyB8ICdub25lJztcclxuICBzdHVkeV9yZXF1aXJlbWVudDogJ3llcycgfCAnbm8nOyAgICAgICAgICAgLy8gQXVzdHJhbGlhbiBzdHVkeSByZXF1aXJlbWVudFxyXG4gIG5hdHRpOiAneWVzJyB8ICdubyc7ICAgICAgICAgICAgICAgICAgICAgICAvLyBDcmVkZW50aWFsZWQgY29tbXVuaXR5IGxhbmd1YWdlXHJcbiAgcmVnaW9uYWxfc3R1ZHk6ICd5ZXMnIHwgJ25vJzsgICAgICAgICAgICAgIC8vIFN0dWR5IGluIHJlZ2lvbmFsIEF1c3RyYWxpYVxyXG4gIHByb2Zlc3Npb25hbF95ZWFyOiAneWVzJyB8ICdubyc7ICAgICAgICAgICAvLyBQcm9mZXNzaW9uYWwgWWVhclxyXG4gIHBhcnRuZXI6ICdtZWV0c19hbGwnIHwgJ2NvbXBldGVudF9lbmdsaXNoJyB8ICdzaW5nbGVfb3JfYXVfcGFydG5lcic7XHJcbiAgbm9taW5hdGlvbl9zcG9uc29yc2hpcDogJ3N0YXRlJyB8ICdmYW1pbHknIHwgJ25vbmUnO1xyXG59O1xyXG5cclxuLy8gRXN0cnVjdHVyYSBwYXJhIGNhbGN1bGFyIHNjb3JlIChjYW1lbENhc2UpXHJcbmludGVyZmFjZSBTY29yZURhdGEge1xyXG4gIHZpc2FTdWJjbGFzczogJzQ5MScgfCAnMTkwJyB8ICcxODknO1xyXG4gIGFnZTogbnVtYmVyO1xyXG4gIGVuZ2xpc2hMZXZlbDogJ0NvbXBldGVudCcgfCAnUHJvZmljaWVudCcgfCAnU3VwZXJpb3InO1xyXG4gIHdvcmtFeHBlcmllbmNlX291dDogbnVtYmVyO1xyXG4gIHdvcmtFeHBlcmllbmNlX2luOiBudW1iZXI7XHJcbiAgZWR1Y2F0aW9uX3F1YWxpZmljYXRpb246ICdkb2N0b3JhdGUnIHwgJ2JhY2hlbG9yJyB8ICdkaXBsb21hJyB8ICdhc3Nlc3NlZCcgfCAnbm9uZSc7XHJcbiAgc3BlY2lhbGlzdFF1YWxpZmljYXRpb24/OiAnbWFzdGVyX3Jlc2VhcmNoJyB8ICdkb2N0b3JhbF9yZXNlYXJjaCcgfCAnbm9uZSc7XHJcbiAgYXVzdHJhbGlhblN0dWR5OiAneWVzJyB8ICdubyc7XHJcbiAgY29tbXVuaXR5TGFuZ3VhZ2U6ICd5ZXMnIHwgJ25vJztcclxuICByZWdpb25hbFN0dWR5OiAneWVzJyB8ICdubyc7XHJcbiAgcHJvZmVzc2lvbmFsWWVhcjogJ3llcycgfCAnbm8nO1xyXG4gIHBhcnRuZXI6ICdtZWV0c19hbGwnIHwgJ2NvbXBldGVudF9lbmdsaXNoJyB8ICdzaW5nbGVfb3JfYXVfcGFydG5lcic7XHJcbiAgbm9taW5hdGlvblNwb25zb3JzaGlwOiAnc3RhdGUnIHwgJ2ZhbWlseScgfCAnbm9uZSc7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNhbGN1bGF0ZVNjb3JlKGRhdGE6IFNjb3JlRGF0YSk6IG51bWJlciB7XHJcbiAgbGV0IHNjb3JlID0gMDtcclxuICAvLyBWaXNhIFN1YmNsYXNzXHJcbiAgc3dpdGNoIChkYXRhLnZpc2FTdWJjbGFzcykge1xyXG4gICAgY2FzZSAnNDkxJzogc2NvcmUgKz0gMTU7IGJyZWFrO1xyXG4gICAgY2FzZSAnMTkwJzogc2NvcmUgKz0gNTsgIGJyZWFrO1xyXG4gICAgY2FzZSAnMTg5Jzogc2NvcmUgKz0gMDsgIGJyZWFrO1xyXG4gIH1cclxuICAvLyBFZGFkXHJcbiAgaWYgKGRhdGEuYWdlIDwgMjUpIHNjb3JlICs9IDI1O1xyXG4gIGVsc2UgaWYgKGRhdGEuYWdlIDwgMzMpIHNjb3JlICs9IDMwO1xyXG4gIGVsc2UgaWYgKGRhdGEuYWdlIDwgNDApIHNjb3JlICs9IDI1O1xyXG4gIGVsc2UgaWYgKGRhdGEuYWdlIDwgNDUpIHNjb3JlICs9IDE1O1xyXG4gIC8vIEluZ2zDqXNcclxuICBpZiAoZGF0YS5lbmdsaXNoTGV2ZWwgPT09ICdQcm9maWNpZW50Jykgc2NvcmUgKz0gMTA7XHJcbiAgZWxzZSBpZiAoZGF0YS5lbmdsaXNoTGV2ZWwgPT09ICdTdXBlcmlvcicpIHNjb3JlICs9IDIwO1xyXG4gIC8vIEV4cGVyaWVuY2lhIGZ1ZXJhIEFVXHJcbiAgaWYgKGRhdGEud29ya0V4cGVyaWVuY2Vfb3V0ID49IDgpIHNjb3JlICs9IDE1O1xyXG4gIGVsc2UgaWYgKGRhdGEud29ya0V4cGVyaWVuY2Vfb3V0ID49IDUpIHNjb3JlICs9IDEwO1xyXG4gIGVsc2UgaWYgKGRhdGEud29ya0V4cGVyaWVuY2Vfb3V0ID49IDMpIHNjb3JlICs9IDU7XHJcbiAgLy8gRXhwZXJpZW5jaWEgZW4gQVVcclxuICBpZiAoZGF0YS53b3JrRXhwZXJpZW5jZV9pbiA+PSA4KSBzY29yZSArPSAyMDtcclxuICBlbHNlIGlmIChkYXRhLndvcmtFeHBlcmllbmNlX2luID49IDUpIHNjb3JlICs9IDE1O1xyXG4gIGVsc2UgaWYgKGRhdGEud29ya0V4cGVyaWVuY2VfaW4gPj0gMykgc2NvcmUgKz0gMTA7XHJcbiAgZWxzZSBpZiAoZGF0YS53b3JrRXhwZXJpZW5jZV9pbiA+PSAxKSBzY29yZSArPSA1O1xyXG4gIC8vIEVkdWNhY2nDs25cclxuICBzd2l0Y2ggKGRhdGEuZWR1Y2F0aW9uX3F1YWxpZmljYXRpb24pIHtcclxuICAgIGNhc2UgJ2RvY3RvcmF0ZSc6IHNjb3JlICs9IDIwOyBicmVhaztcclxuICAgIGNhc2UgJ2JhY2hlbG9yJzogc2NvcmUgKz0gMTU7IGJyZWFrO1xyXG4gICAgY2FzZSAnZGlwbG9tYSc6ICAgc2NvcmUgKz0gMTA7IGJyZWFrO1xyXG4gICAgY2FzZSAnYXNzZXNzZWQnOiAgc2NvcmUgKz0gMTA7IGJyZWFrO1xyXG4gICAgZGVmYXVsdDogYnJlYWs7XHJcbiAgfVxyXG4gIC8vIEVzcGVjaWFsaXN0YVxyXG4gIGlmIChkYXRhLnNwZWNpYWxpc3RRdWFsaWZpY2F0aW9uICYmIGRhdGEuc3BlY2lhbGlzdFF1YWxpZmljYXRpb24gIT09ICdub25lJykgc2NvcmUgKz0gMTA7XHJcbiAgLy8gQXVzdHJhbGlhbiBzdHVkeSByZXF1aXJlbWVudFxyXG4gIGlmIChkYXRhLmF1c3RyYWxpYW5TdHVkeSA9PT0gJ3llcycpIHNjb3JlICs9IDU7XHJcbiAgLy8gQ3JlZGVudGlhbGVkIGNvbW11bml0eSBsYW5ndWFnZVxyXG4gIGlmIChkYXRhLmNvbW11bml0eUxhbmd1YWdlID09PSAneWVzJykgc2NvcmUgKz0gNTtcclxuICAvLyBTdHVkeSBpbiByZWdpb25hbCBBdXN0cmFsaWFcclxuICBpZiAoZGF0YS5yZWdpb25hbFN0dWR5ID09PSAneWVzJykgc2NvcmUgKz0gNTtcclxuICAvLyBQcm9mZXNzaW9uYWwgWWVhclxyXG4gIGlmIChkYXRhLnByb2Zlc3Npb25hbFllYXIgPT09ICd5ZXMnKSBzY29yZSArPSA1O1xyXG4gIC8vIFBhcnRuZXIgc2tpbGxzXHJcbiAgaWYgKGRhdGEucGFydG5lciA9PT0gJ21lZXRzX2FsbCcgfHwgZGF0YS5wYXJ0bmVyID09PSAnc2luZ2xlX29yX2F1X3BhcnRuZXInKSBzY29yZSArPSAxMDtcclxuICBlbHNlIGlmIChkYXRhLnBhcnRuZXIgPT09ICdjb21wZXRlbnRfZW5nbGlzaCcpIHNjb3JlICs9IDU7XHJcbiAgLy8gTm9taW5hdGlvbiBvciBzcG9uc29yc2hpcFxyXG4gIGlmIChkYXRhLm5vbWluYXRpb25TcG9uc29yc2hpcCA9PT0gJ3N0YXRlJyB8fCBkYXRhLm5vbWluYXRpb25TcG9uc29yc2hpcCA9PT0gJ2ZhbWlseScpIHNjb3JlICs9IDE1O1xyXG4gIHJldHVybiBzY29yZTtcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgYXN5bmMgZnVuY3Rpb24gaGFuZGxlcihyZXE6IE5leHRBcGlSZXF1ZXN0LCByZXM6IE5leHRBcGlSZXNwb25zZSkge1xyXG4gIGNvbnN0IHJhdyA9IHJlcS5oZWFkZXJzLmNvb2tpZSB8fCAnJztcclxuICBjb25zdCB7IHRva2VuIH0gPSBjb29raWUucGFyc2UocmF3KTtcclxuICBpZiAoIXRva2VuKSByZXR1cm4gcmVzLnN0YXR1cyg0MDEpLmpzb24oeyBlcnJvcjogJ05vIGF1dGVudGljYWRvJyB9KTtcclxuXHJcbiAgbGV0IHBheWxvYWQ6IGFueTtcclxuICB0cnkgeyBwYXlsb2FkID0gand0LnZlcmlmeSh0b2tlbiwgcHJvY2Vzcy5lbnYuSldUX1NFQ1JFVCEpOyB9XHJcbiAgY2F0Y2ggeyByZXR1cm4gcmVzLnN0YXR1cyg0MDEpLmpzb24oeyBlcnJvcjogJ1Rva2VuIGludsOhbGlkbycgfSk7IH1cclxuXHJcbiAgY29uc3QgdXNlcklkID0gcGF5bG9hZC51c2VySWQgYXMgbnVtYmVyO1xyXG5cclxuICBpZiAocmVxLm1ldGhvZCA9PT0gJ0dFVCcpIHtcclxuICAgIGNvbnN0IHByb2ZpbGVSYXcgPSBhd2FpdCBwcmlzbWEucHJvZmlsZS5maW5kVW5pcXVlKHsgd2hlcmU6IHsgdXNlcklkIH0gfSk7XHJcbiAgICBpZiAoIXByb2ZpbGVSYXcpIHJldHVybiByZXMuc3RhdHVzKDQwNCkuanNvbih7IGVycm9yOiAnUGVyZmlsIG5vIGVuY29udHJhZG8nIH0pO1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHsgcHJvZmlsZTogcHJvZmlsZVJhdyB9KTtcclxuICB9XHJcblxyXG4gIGlmIChyZXEubWV0aG9kID09PSAnUE9TVCcpIHtcclxuICAgIGNvbnN0IGJvZHkgPSByZXEuYm9keSBhcyBQcm9maWxlUGF5bG9hZDtcclxuICAgIC8vIERhdG9zIHBhcmEgY2FsY3VsYXJcclxuICAgIGNvbnN0IHNjb3JlRGF0YTogU2NvcmVEYXRhID0ge1xyXG4gICAgICB2aXNhU3ViY2xhc3M6IGJvZHkudmlzYVN1YmNsYXNzLFxyXG4gICAgICBhZ2U6IGJvZHkuYWdlLFxyXG4gICAgICBlbmdsaXNoTGV2ZWw6IGJvZHkuZW5nbGlzaExldmVsLFxyXG4gICAgICB3b3JrRXhwZXJpZW5jZV9vdXQ6IGJvZHkud29ya0V4cGVyaWVuY2Vfb3V0LFxyXG4gICAgICB3b3JrRXhwZXJpZW5jZV9pbjogYm9keS53b3JrRXhwZXJpZW5jZV9pbixcclxuICAgICAgZWR1Y2F0aW9uX3F1YWxpZmljYXRpb246IGJvZHkuZWR1Y2F0aW9uX3F1YWxpZmljYXRpb24sXHJcbiAgICAgIHNwZWNpYWxpc3RRdWFsaWZpY2F0aW9uOiBib2R5LnNwZWNpYWxpc3RRdWFsaWZpY2F0aW9uLFxyXG4gICAgICBhdXN0cmFsaWFuU3R1ZHk6IGJvZHkuc3R1ZHlfcmVxdWlyZW1lbnQsXHJcbiAgICAgIGNvbW11bml0eUxhbmd1YWdlOiBib2R5Lm5hdHRpLFxyXG4gICAgICByZWdpb25hbFN0dWR5OiBib2R5LnJlZ2lvbmFsX3N0dWR5LFxyXG4gICAgICBwcm9mZXNzaW9uYWxZZWFyOiBib2R5LnByb2Zlc3Npb25hbF95ZWFyLFxyXG4gICAgICBwYXJ0bmVyOiBib2R5LnBhcnRuZXIsXHJcbiAgICAgIG5vbWluYXRpb25TcG9uc29yc2hpcDogYm9keS5ub21pbmF0aW9uX3Nwb25zb3JzaGlwXHJcbiAgICB9O1xyXG4gICAgY29uc3Qgc2NvcmUgPSBjYWxjdWxhdGVTY29yZShzY29yZURhdGEpO1xyXG5cclxuICAgIC8vIFBheWxvYWQgREIgKHVzYW5kbyBjbGF2ZXMgc25ha2VfY2FzZSlcclxuICAgIGNvbnN0IGRiUGF5bG9hZCA9IHtcclxuICAgICAgYWdlOiBib2R5LmFnZSxcclxuICAgICAgb2NjdXBhdGlvbjogYm9keS5vY2N1cGF0aW9uLFxyXG4gICAgICBlbmdsaXNoTGV2ZWw6IGJvZHkuZW5nbGlzaExldmVsLFxyXG4gICAgICB3b3JrRXhwZXJpZW5jZV9pbjogYm9keS53b3JrRXhwZXJpZW5jZV9pbixcclxuICAgICAgd29ya0V4cGVyaWVuY2Vfb3V0OiBib2R5LndvcmtFeHBlcmllbmNlX291dCxcclxuICAgICAgbmF0aW9uYWxpdHk6IGJvZHkubmF0aW9uYWxpdHkgPz8gJycsXHJcbiAgICAgIGVkdWNhdGlvbl9xdWFsaWZpY2F0aW9uOiBib2R5LmVkdWNhdGlvbl9xdWFsaWZpY2F0aW9uLFxyXG4gICAgICBzdHVkeV9yZXF1aXJlbWVudDogYm9keS5zdHVkeV9yZXF1aXJlbWVudCxcclxuICAgICAgcmVnaW9uYWxfc3R1ZHk6IGJvZHkucmVnaW9uYWxfc3R1ZHksXHJcbiAgICAgIHByb2Zlc3Npb25hbF95ZWFyOiBib2R5LnByb2Zlc3Npb25hbF95ZWFyLFxyXG4gICAgICBuYXR0aTogYm9keS5uYXR0aSxcclxuICAgICAgcGFydG5lcjogYm9keS5wYXJ0bmVyLFxyXG4gICAgICBub21pbmF0aW9uX3Nwb25zb3JzaGlwOiBib2R5Lm5vbWluYXRpb25fc3BvbnNvcnNoaXBcclxuICAgIH07XHJcblxyXG4gICAgY29uc3QgcHJvZmlsZSA9IGF3YWl0IHByaXNtYS5wcm9maWxlLnVwc2VydCh7XHJcbiAgICAgIHdoZXJlOiB7IHVzZXJJZCB9LFxyXG4gICAgICBjcmVhdGU6IHsgdXNlcklkLCAuLi5kYlBheWxvYWQsIHNjb3JlIH0sXHJcbiAgICAgIHVwZGF0ZTogeyAuLi5kYlBheWxvYWQsIHNjb3JlIH1cclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHsgcHJvZmlsZSB9KTtcclxuICB9XHJcblxyXG4gIHJlcy5zZXRIZWFkZXIoJ0FsbG93JywgWydHRVQnLCdQT1NUJ10pO1xyXG4gIHJldHVybiByZXMuc3RhdHVzKDQwNSkuZW5kKGBNZXRob2QgJHtyZXEubWV0aG9kfSBOb3QgQWxsb3dlZGApO1xyXG59XHJcbiJdLCJuYW1lcyI6WyJQcmlzbWFDbGllbnQiLCJjb29raWUiLCJqd3QiLCJwcmlzbWEiLCJjYWxjdWxhdGVTY29yZSIsImRhdGEiLCJzY29yZSIsInZpc2FTdWJjbGFzcyIsImFnZSIsImVuZ2xpc2hMZXZlbCIsIndvcmtFeHBlcmllbmNlX291dCIsIndvcmtFeHBlcmllbmNlX2luIiwiZWR1Y2F0aW9uX3F1YWxpZmljYXRpb24iLCJzcGVjaWFsaXN0UXVhbGlmaWNhdGlvbiIsImF1c3RyYWxpYW5TdHVkeSIsImNvbW11bml0eUxhbmd1YWdlIiwicmVnaW9uYWxTdHVkeSIsInByb2Zlc3Npb25hbFllYXIiLCJwYXJ0bmVyIiwibm9taW5hdGlvblNwb25zb3JzaGlwIiwiaGFuZGxlciIsInJlcSIsInJlcyIsInJhdyIsImhlYWRlcnMiLCJ0b2tlbiIsInBhcnNlIiwic3RhdHVzIiwianNvbiIsImVycm9yIiwicGF5bG9hZCIsInZlcmlmeSIsInByb2Nlc3MiLCJlbnYiLCJKV1RfU0VDUkVUIiwidXNlcklkIiwibWV0aG9kIiwicHJvZmlsZVJhdyIsInByb2ZpbGUiLCJmaW5kVW5pcXVlIiwid2hlcmUiLCJib2R5Iiwic2NvcmVEYXRhIiwic3R1ZHlfcmVxdWlyZW1lbnQiLCJuYXR0aSIsInJlZ2lvbmFsX3N0dWR5IiwicHJvZmVzc2lvbmFsX3llYXIiLCJub21pbmF0aW9uX3Nwb25zb3JzaGlwIiwiZGJQYXlsb2FkIiwib2NjdXBhdGlvbiIsIm5hdGlvbmFsaXR5IiwidXBzZXJ0IiwiY3JlYXRlIiwidXBkYXRlIiwic2V0SGVhZGVyIiwiZW5kIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api-node)/./pages/api/profile.ts\n");

/***/ }),

/***/ "@prisma/client":
/*!*********************************!*\
  !*** external "@prisma/client" ***!
  \*********************************/
/***/ ((module) => {

module.exports = require("@prisma/client");

/***/ }),

/***/ "cookie":
/*!*************************!*\
  !*** external "cookie" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("cookie");

/***/ }),

/***/ "jsonwebtoken":
/*!*******************************!*\
  !*** external "jsonwebtoken" ***!
  \*******************************/
/***/ ((module) => {

module.exports = require("jsonwebtoken");

/***/ }),

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api-node)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fprofile&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cprofile.ts&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();